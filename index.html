<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Revue d'actualitÃ©s</title>
<style>
body { font-family: 'Segoe UI', sans-serif; background:#f5f7fa; margin:0; padding:20px;}
.feed-grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(280px,1fr)); gap:20px; }
.card {
  background:white;
  padding:15px;
  border-radius:12px;
  box-shadow:0 4px 12px rgba(0,0,0,0.08);
}
.card h3 { font-size:1rem; margin:10px 0; }
.card a { text-decoration:none; color:#1a1a1a; }
.meta { font-size:0.8em; color:#666; }
.pagination { text-align:center; margin-top:30px; }
.pagination button {
  margin:5px;
  padding:8px 12px;
  border:none;
  border-radius:6px;
  background:#e0e6ed;
  cursor:pointer;
}
.pagination button.active {
  background:#2d3748;
  color:white;
}
</style>
</head>
<body>

<h2>ðŸ“° Revue d'actualitÃ©s â€“ GÃ©nÃ©alogie & Archives</h2>
<div id="content">Chargementâ€¦</div>
<div id="pagination" class="pagination"></div>

<script>
let allItems=[];
let currentPage=1;
const perPage=12;

fetch('feed.json')
  .then(res=>res.json())
  .then(data=>{
    allItems=data;
    displayPage(1);
    setupPagination();
  });

function displayPage(page){
  currentPage=page;
  const start=(page-1)*perPage;
  const end=start+perPage;
  const items=allItems.slice(start,end);

  let html='<div class="feed-grid">';
  items.forEach(item=>{
    html+=`
    <div class="card">
      <div class="meta">${item.source}</div>
      <h3><a href="${item.link}" target="_blank">${item.title}</a></h3>
      <div class="meta">${new Date(item.pubDate).toLocaleDateString()}</div>
    </div>`;
  });
  html+='</div>';
  document.getElementById("content").innerHTML=html;
}

function setupPagination(){
  const total=Math.ceil(allItems.length/perPage);
  let html="";
  for(let i=1;i<=total;i++){
    html+=`<button onclick="displayPage(${i})">${i}</button>`;
  }
  document.getElementById("pagination").innerHTML=html;
}
</script>

</body>
</html>
